# 🧀 Cheese Trail

타일 기반 턴제 전략 게임 - 루미큐브 기반 고양이 vs 생쥐 테마

## 🎯 프로젝트 개요

### 타겟 플랫폼
- **1차 목표**: Android (Google Play Store)
- **2차 목표**: iOS, WebGL (웹 버전)
- **개발 환경**: Unity 2D, C#

### 게임 특징
- 타일 기반 턴제 전략 게임
- 루미큐브 룰 기반 + 고유 종족 시스템
- 테마: 고양이 🐱 vs 생쥐 🐭 (치즈 🧀, 생선 🐟)
- 게임 모드:
  - **로컬 모드**: AI 상대 또는 오프라인 플레이
  - **멀티플레이**: 온라인 매칭 또는 친구 초대

---

## 🎮 타일 시스템

### 타일 구성
**총 110장**

| 색상 | 종류 | 숫자 범위 | 개수 |
|-----|-----|---------|------|
| 빨강 🔴 | 고양이, 생쥐, 치즈 | 1-12 | 36장 |
| 녹색 🟢 | 고양이, 생쥐, 치즈 | 1-12 | 36장 |
| 흰색 ⚪ | 고양이, 생쥐, 치즈 | 1-12 | 36장 |
| - | 조커 (생선 🐟) | - | 2장 |

### 데이터 구조
```csharp
public enum TileType {
    Cat,    // 고양이
    Mouse,  // 생쥐
    Cheese, // 치즈
    Fish    // 조커 (생선)
}

public enum TileColor {
    Red,       // 빨강
    Green,     // 녹색
    White,     // 흰색
    BlueFish,  // 파랑 생선 (조커)
    WhiteFish  // 흰색 생선 (조커)
}

public class Tile {
    public TileType Type;
    public TileColor Color;
    public int Number;        // 1~12 (조커는 0)
    public Sprite IconSprite; // 아이콘 참조

    public bool IsJoker => Type == TileType.Fish;
    public int GetValue() => IsJoker ? 0 : Number;
}
```

---

## 📜 게임 룰

### ✔ 기본 규칙
- **초기 패**: 플레이어당 12장
- **뽑기**: 턴마다 1장 (또는 패스 시 3장)
- **승리 조건**: 손패 0장 먼저 달성

### ✔ 최초 등록 (First Meld)
플레이어가 처음으로 필드에 타일을 내려놓을 때:
- **Cat** 또는 **Mouse** 중 **단일 종류만** 사용
- **합계 12점 이상** 필요
- 등록 전에는 필드의 기존 세트 편집 불가

### ✔ 종족 규칙
| 조합 | 가능 여부 | 비고 |
|-----|----------|------|
| Cat + Cat | ⭕ | 동일 종족 |
| Mouse + Mouse | ⭕ | 동일 종족 |
| Cheese + Cheese | ⭕ | 중립 종족 |
| **Cat + Mouse** | ❌ | **절대 불가** |
| Cat + Cheese | ⭕ | 가능 |
| Mouse + Cheese | ⭕ | 가능 |
| **Fish + 모두** | ⭕ | **조커는 모든 종족과 조합 가능** |

### ✔ 조합 타입
**세트 (Set)**: 같은 숫자, 다른 색상
- 예: 빨강7(고양이) + 녹색7(고양이) + 흰색7(고양이)

**런 (Run)**: 같은 색상, 연속 숫자
- 예: 빨강4(생쥐) + 빨강5(생쥐) + 빨강6(생쥐)

### ✔ 조커 규칙
- **개수**: 2장 (BlueFish, WhiteFish)
- **효과**:
  - 모든 종족 제한 무시 (Cat + Mouse 조합 가능)
  - 숫자/색상 제약은 유지
- **예시**: 빨강3(고양이) + 조커(생쥐로 간주) + 빨강5(생쥐) ✅

---

## 🎨 그래픽 제작 전략

### 제작 분담
- **직접 제작** 🎨: 고양이 / 생쥐 / 치즈 / 생선 아이콘 (PNG 투명 배경)
- **AI 생성** 🤖: 타일 배경, 숫자 텍스트, 색상 포인트

### TilePrefab 구조
```
TilePrefab
  ├─ BackgroundSprite (AI 생성 - 타일 프레임)
  ├─ IconSprite (직접 제작 - 캐릭터 아이콘)
  ├─ NumberText (TextMeshPro)
  ├─ ColorIndicator (빨강/녹색/흰색 표시)
  └─ HighlightFrame (선택/드래그 시 강조)
```

### UI/UX 디자인
- **레이아웃 참조**: [UI.png](UI.png) - 게임 화면 와이어프레임
- **모바일 최적화**: 터치 UI, 제스처 지원
- **접근성**: 색맹 모드 고려

---

## 🎛️ 게임 시스템

### 게임 모드
#### 1. 로컬 모드
- AI 대전 (기본 난이도: **보통**)
- 오프라인 연습 모드
- 튜토리얼

#### 2. 멀티플레이 모드
- **기술 스택**: WebSocket 기반 자체 서버
  - Unity: WebSocketSharp 또는 NativeWebSocket
  - 서버: Node.js + Socket.io (또는 Golang)
- **매칭 방식**:
  - 빠른 매칭
  - 친구 초대 (룸 코드)
- **턴 시간 설정**:
  - 20초 / 30초 / 40초 (기본) / 60초 / 무제한

### 드래그 & 드롭 시스템
- **손패 → 필드**: 새 타일 배치
- **필드 → 필드**: 세트 재조립
- **필드 → 손패**: 취소 (최초 등록 전만)

### 검증 시스템
턴 종료 시 자동 체크:
- ✅ 세트/런 규칙 유효성
- ✅ Cat + Mouse 충돌 여부
- ✅ 조커 포함 시 예외 처리
- ✅ 최소 3장 조합 확인

---

## 🛠️ 개발 환경

### Unity 설정
- **Unity 버전**: 6000.1.17f1 (Unity 6)
- **프로젝트 타입**: 2D
- **빌드 타겟**: Android (1차), iOS/WebGL (2차)

### 필수 패키지
- TextMeshPro (UI)
- 2D Sprite (그래픽)
- [선택] DOTween (애니메이션)
- [멀티플레이] WebSocket 라이브러리 (WebSocketSharp 또는 NativeWebSocket)

### 개발 도구
- **IDE**: Visual Studio 2022 / Rider
- **버전 관리**: Git
- **협업**: GitHub

---

## 🧭 개발 로드맵

### 1단계 – 기본 시스템 구현 ⚙️
- [ ] 타일 데이터 구조 (ScriptableObject)
- [ ] 타일 생성 및 렌더링
- [ ] 드래그 & 드롭 시스템
- [ ] 기본 UI 레이아웃

### 2단계 – 로컬 모드 구현 🎮
- [ ] 룰 검증 시스템
  - [ ] 세트/런 체크
  - [ ] 종족 충돌 체크
  - [ ] 조커 규칙 처리
- [ ] 최초 등록 (12점 이상) 체크
- [ ] AI 상대 구현 (보통 난이도 - 탐욕 알고리즘)
- [ ] 튜토리얼

### 3단계 – 멀티플레이 구현 🌐
- [ ] WebSocket 라이브러리 적용 (Unity)
- [ ] WebSocket 서버 구현 (Node.js/Golang)
- [ ] 룸 생성/입장 시스템
- [ ] 턴 동기화
- [ ] 플레이어 이탈 처리
- [ ] 채팅/이모티콘

### 4단계 – 디자인 및 폴리싱 🎨
- [ ] 직접 제작 아이콘 추가
- [ ] AI 생성 타일 프레임 교체
- [ ] UI/UX 통일감
- [ ] 사운드 (BGM/SFX)
- [ ] 애니메이션 효과

### 5단계 – 배포 준비 📦
- [ ] Android 빌드 최적화
- [ ] 성능 테스트 (저사양 기기)
- [ ] Google Play Console 설정
- [ ] 스크린샷/프로모션 영상
- [ ] 베타 테스트
- [ ] 정식 출시

---

## 🧪 테스트 전략

### 단위 테스트
- 타일 조합 검증 로직
- 점수 계산
- 조커 규칙 예외 처리

### 통합 테스트
- 로컬 모드 전체 플레이
- 멀티플레이 동기화
- 네트워크 끊김 시나리오

### 모바일 테스트
- 해상도 대응 (다양한 화면 비율)
- 터치 인식 정확도
- 배터리 소모
- 발열 테스트

---

## 📝 추가 고려사항

### 데이터 저장
- 로컬: PlayerPrefs (설정, 튜토리얼 완료 여부)
- 클라우드: 선택 사항 (유저 통계, 랭킹)

### 수익화 (선택)
- 광고 (보상형 광고)
- 스킨/테마 판매

### 확장 가능성
- 시즌 패스
- 커스텀 타일 스킨
- 추가 게임 모드 (4인 플레이 등)

---

## 📂 프로젝트 구조
```
Cheese-Trail/
├─ ProjectCT/           # Unity 프로젝트 폴더
│  ├─ Assets/
│  │  ├─ Scripts/       # C# 스크립트
│  │  ├─ Sprites/       # 타일 아이콘, UI 이미지
│  │  ├─ Prefabs/       # TilePrefab, UI Prefab
│  │  ├─ Scenes/        # 게임 씬
│  │  └─ Resources/     # ScriptableObject 데이터
│  └─ ...
└─ README.md            # 이 문서
```

---

## 🚀 시작하기

1. Unity Hub에서 프로젝트 열기
2. `ProjectCT` 폴더 선택
3. 씬 로드: `Assets/Scenes/MainMenu.unity`
4. Play 버튼으로 테스트

---

**Made with ❤️ by [Your Name]**
